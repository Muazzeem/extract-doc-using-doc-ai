import fitz


def highlight_text(pdf_path, output_path, search_terms, highlight_color=(0, 1, 0)):
    """
    Highlights specified text in a PDF document.

    Args:
        pdf_path (str): Path to the input PDF file.
        output_path (str): Path to save the modified PDF.
        search_terms (list): List of strings to search for and highlight.
        highlight_color (tuple): RGB color for highlighting - (1, 1, 0).
    """

    doc = fitz.open(pdf_path)

    for page_num in range(len(doc)):
        page = doc[page_num]

        for term in search_terms:
            text_instances = page.search_for(term)

            for inst in text_instances:
                highlight = page.add_highlight_annot(inst)
                highlight.set_colors(stroke=highlight_color)
                highlight.update()

    doc.save(output_path)


ids = ["332772020", "332772067", "332772075", "332772097", "333010362", "333010363", "333010365", "333625609",
       "333625611", "336462684", "336462685", "6013197", "6013198", "6013200", "6013283", "BBTY41071", "BBTY41072",
       "BBTY41075", "BBTY41094", "BBTY41095", "BBTY41098", "BBTY41108", "BBVH74337", "BBVH74338", "BBVL19500",
       "BBVL19501", "BBVL19504", "FRO2005547325", "FRO2005547326", "FRO2005547327", "FRO2005547334", "FRO2005547335",
       "FRO2005547336", "FRO2005548216", "FRO2005548217", "FRO2005548218", "FRO2005548219", "FRO2005548220",
       "FRO2005548221", "FRO2005566956", "FRO2005566957", "FRO2005566958", "FRO2005581212", "FRO2005581213",
       "FRO2005581214", "FRO2005724366", "FRO2005724367", "FRO2005724368", "FRO2005955975", "FRO2005955976",
       "FRO2005955977", "FRO2006101970", "FRO2006101971", "FRO2006101972", "FRO2006241880", "FRO2006241881",
       "FRO2006241882", "FRO2006262184", "FRO2006262185", "FRO2006262186", "FRO2006262213", "FRO2006262214",
       "FRO2006262215", "FRO2006272323", "FRO2006272324", "FRO2006272325", "FRO2006293917", "FRO2006293918",
       "FRO2006293919", "FRO2006454150", "FRO2006454151", "FRO2006454152", "FRO2006610015", "FRO2006610016",
       "FRO2006610017", "FRO2006624455", "FRO2006624456", "FRO2006624457", "FRO2006624786", "FRO2006624787",
       "FRO2006624788", "FRO2006632387", "FRO2006632388", "FRO2006632389", "FRO2006644021", "FRO2006644022",
       "FRO2006644023", "FRO2006644027", "FRO2006644028", "FRO2006644029", "FRO2006646679", "FRO2006646680",
       "FRO2006646681", "FRO2006646923", "FRO2006646924", "FRO2006646925", "FRO2006700746", "FRO2006700747",
       "FRO2006700748", "FRO2006908876", "FRO2006908877", "FRO2006908878", "FRO2006909452", "FRO2006909453",
       "FRO2006909454", "FRO2006942051", "FRO2006942052", "FRO2006942053", "FRO2006942054", "FRO2006942055",
       "FRO2006942056", "FRO2006947130", "FRO2006947131", "FRO2006947132", "FRO2006949523", "FRO2006949524",
       "FRO2006949525", "FRO2006950816", "FRO2006950817", "FRO2006950818", "FRO2006950819", "FRO2006950820",
       "FRO2006950821", "FRO2006954097", "FRO2006954098", "FRO2006954667", "FRO2006954668", "FRO2006954669",
       "FRO2006955356", "FRO2006958392", "FRO2006958393", "FRO2006958394", "FRO2006958395", "FRO2006958396",
       "FRO2006958397", "FRO2006958399", "FRO2006958400", "FRO2006958410", "FRO2006958411", "FRO2006958412",
       "FRO2006958413", "FRO2006958414", "FRO2006958415", "FRO2006958416", "FRO2006958417", "FRO2006958418",
       "FRO2006958419", "FRO2006958420", "FRO2006958421", "FRO2006958422", "FRO2006958423", "FRO2006958424",
       "FRO2006958425", "FRO2006958426", "FRO2006958427", "FRO2006958431", "FRO2006958432", "FRO2006958433",
       "FRO2006958721", "FRO2006963035", "FRO2006963036", "FRO2006963037", "FRO2006963790", "FRO2006963791",
       "FRO2006963792", "FRO2006964067", "FRO2006964068", "FRO2006964069", "FRO2006965704", "FRO2006965705",
       "FRO2006965706", "FRO2006965814", "FRO2006971727", "FRO2006976913", "FRO2006985682", "FRO2006992147",
       "FRO2006996789", "FRO2007000806", "FRO2007013994"]

unique_ids = set(ids)
print(len(ids), "Unique IDs:", len(unique_ids))
highlight_text(
    "/home/muazzem/Documents/Telecomm-20240715T025908Z-001/doted_invoices/0205279910_2022.08.24.pdf",
    "highlighted_file.pdf", list(unique_ids)
)
